{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":65},"end":{"line":2,"column":69,"index":134}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":135},"end":{"line":3,"column":45,"index":180}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../screens/ViewfinderScreen","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":181},"end":{"line":4,"column":59,"index":240}}],"key":"Qc4efk6A2u/sCgWH4XkHBQDYYKU=","exportNames":["*"],"imports":1}},{"name":"../types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":241},"end":{"line":5,"column":53,"index":294}}],"key":"SiqkZ9nARqNkdXfcIWbBgsKp5Yo=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/index.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoRouter = require(_dependencyMap[4], \"expo-router\");\n  var _screensViewfinderScreen = require(_dependencyMap[5], \"../screens/ViewfinderScreen\");\n  var ViewfinderScreen = _interopDefault(_screensViewfinderScreen);\n  var _types = require(_dependencyMap[6], \"../types\");\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  function Index() {\n    _s();\n    var _useState = (0, _react.useState)({\n        focalLength: 50,\n        pinholeSize: 0.3,\n        filmFormat: _types.FILM_FORMATS[2],\n        filmOrientation: 'landscape',\n        iso: 100,\n        selectedCondition: null,\n        useRedFilter: false,\n        useReciprocityFailure: true,\n        bracketStops: 0\n      }),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      settings = _useState2[0],\n      setSettings = _useState2[1];\n\n    // Reload settings every time the tab comes into focus\n    (0, _expoRouter.useFocusEffect)((0, _react.useCallback)(() => {\n      loadSettings();\n    }, []));\n\n    // Also load on initial mount for web compatibility\n    (0, _react.useEffect)(() => {\n      loadSettings();\n    }, []);\n    var loadSettings = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        try {\n          // Ensure we're in browser environment\n          if (typeof window === 'undefined') return;\n          var stored = yield AsyncStorage.default.getItem('app_settings');\n          console.log('Loaded settings from storage:', stored);\n          if (stored) {\n            var parsedSettings = JSON.parse(stored);\n            setSettings(prev => ({\n              ...prev,\n              ...parsedSettings,\n              // Ensure filmFormat is properly restored\n              filmFormat: parsedSettings.filmFormat || prev.filmFormat,\n              filmOrientation: parsedSettings.filmOrientation || 'landscape'\n            }));\n          }\n        } catch (error) {\n          console.error('Error loading settings:', error);\n        }\n      });\n      return function loadSettings() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var saveSettings = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (newSettings) {\n        try {\n          setSettings(newSettings);\n          yield AsyncStorage.default.setItem('app_settings', JSON.stringify(newSettings));\n        } catch (error) {\n          console.error('Error saving settings:', error);\n        }\n      });\n      return function saveSettings(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ViewfinderScreen.default, {\n      settings: settings,\n      updateSettings: saveSettings\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 10\n    }, this);\n  }\n  _s(Index, \"H/XfK+lAO6JvyNbdhctqj9jf7zM=\", false, function () {\n    return [_expoRouter.useFocusEffect];\n  });\n  _c = Index;\n  var _c;\n  $RefreshReg$(_c, \"Index\");\n});","lineCount":111,"map":[[14,2,7,15,"Object"],[14,8,7,15],[14,9,7,15,"defineProperty"],[14,23,7,15],[14,24,7,15,"exports"],[14,31,7,15],[15,4,7,15,"enumerable"],[15,14,7,15],[16,4,7,15,"get"],[16,7,7,15],[16,18,7,15,"get"],[16,19,7,15],[17,6,7,15],[17,13,7,15,"Index"],[17,18,7,15],[18,4,7,15],[19,2,7,15],[20,2,64,1],[20,6,64,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,42,64,1],[20,45,64,1,"require"],[20,52,64,1],[20,53,64,1,"_dependencyMap"],[20,67,64,1],[21,2,64,1],[21,6,64,1,"_asyncToGenerator"],[21,23,64,1],[21,26,64,1,"_interopDefault"],[21,41,64,1],[21,42,64,1,"_babelRuntimeHelpersAsyncToGenerator"],[21,78,64,1],[22,2,64,1],[22,6,64,1,"_babelRuntimeHelpersSlicedToArray"],[22,39,64,1],[22,42,64,1,"require"],[22,49,64,1],[22,50,64,1,"_dependencyMap"],[22,64,64,1],[23,2,64,1],[23,6,64,1,"_slicedToArray"],[23,20,64,1],[23,23,64,1,"_interopDefault"],[23,38,64,1],[23,39,64,1,"_babelRuntimeHelpersSlicedToArray"],[23,72,64,1],[24,2,1,0],[24,6,1,0,"_react"],[24,12,1,0],[24,15,1,0,"require"],[24,22,1,0],[24,23,1,0,"_dependencyMap"],[24,37,1,0],[25,2,2,0],[25,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,2,0],[25,45,2,0,"require"],[25,52,2,0],[25,53,2,0,"_dependencyMap"],[25,67,2,0],[26,2,2,0],[26,6,2,0,"AsyncStorage"],[26,18,2,0],[26,21,2,0,"_interopDefault"],[26,36,2,0],[26,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,2,0],[27,2,3,0],[27,6,3,0,"_expoRouter"],[27,17,3,0],[27,20,3,0,"require"],[27,27,3,0],[27,28,3,0,"_dependencyMap"],[27,42,3,0],[28,2,4,0],[28,6,4,0,"_screensViewfinderScreen"],[28,30,4,0],[28,33,4,0,"require"],[28,40,4,0],[28,41,4,0,"_dependencyMap"],[28,55,4,0],[29,2,4,0],[29,6,4,0,"ViewfinderScreen"],[29,22,4,0],[29,25,4,0,"_interopDefault"],[29,40,4,0],[29,41,4,0,"_screensViewfinderScreen"],[29,65,4,0],[30,2,5,0],[30,6,5,0,"_types"],[30,12,5,0],[30,15,5,0,"require"],[30,22,5,0],[30,23,5,0,"_dependencyMap"],[30,37,5,0],[31,2,5,53],[31,6,5,53,"_reactJsxDevRuntime"],[31,25,5,53],[31,28,5,53,"require"],[31,35,5,53],[31,36,5,53,"_dependencyMap"],[31,50,5,53],[32,2,7,15],[32,11,7,24,"Index"],[32,16,7,29,"Index"],[32,17,7,29],[32,19,7,32],[33,4,7,32,"_s"],[33,6,7,32],[34,4,8,2],[34,8,8,2,"_useState"],[34,17,8,2],[34,20,8,34],[34,24,8,34,"useState"],[34,30,8,42],[34,31,8,42,"useState"],[34,39,8,42],[34,41,8,56],[35,8,9,4,"focalLength"],[35,19,9,15],[35,21,9,17],[35,23,9,19],[36,8,10,4,"pinholeSize"],[36,19,10,15],[36,21,10,17],[36,24,10,20],[37,8,11,4,"filmFormat"],[37,18,11,14],[37,20,11,16,"FILM_FORMATS"],[37,26,11,28],[37,27,11,28,"FILM_FORMATS"],[37,39,11,28],[37,40,11,29],[37,41,11,30],[37,42,11,31],[38,8,12,4,"filmOrientation"],[38,23,12,19],[38,25,12,21],[38,36,12,32],[39,8,13,4,"iso"],[39,11,13,7],[39,13,13,9],[39,16,13,12],[40,8,14,4,"selectedCondition"],[40,25,14,21],[40,27,14,23],[40,31,14,27],[41,8,15,4,"useRedFilter"],[41,20,15,16],[41,22,15,18],[41,27,15,23],[42,8,16,4,"useReciprocityFailure"],[42,29,16,25],[42,31,16,27],[42,35,16,31],[43,8,17,4,"bracketStops"],[43,20,17,16],[43,22,17,18],[44,6,18,2],[44,7,18,3],[44,8,18,4],[45,6,18,4,"_useState2"],[45,16,18,4],[45,23,18,4,"_slicedToArray"],[45,37,18,4],[45,38,18,4,"default"],[45,45,18,4],[45,47,18,4,"_useState"],[45,56,18,4],[46,6,8,9,"settings"],[46,14,8,17],[46,17,8,17,"_useState2"],[46,27,8,17],[47,6,8,19,"setSettings"],[47,17,8,30],[47,20,8,30,"_useState2"],[47,30,8,30],[49,4,20,2],[50,4,21,2],[50,8,21,2,"useFocusEffect"],[50,19,21,16],[50,20,21,16,"useFocusEffect"],[50,34,21,16],[50,36,22,4],[50,40,22,4,"useCallback"],[50,46,22,15],[50,47,22,15,"useCallback"],[50,58,22,15],[50,60,22,16],[50,66,22,22],[51,6,23,6,"loadSettings"],[51,18,23,18],[51,19,23,19],[51,20,23,20],[52,4,24,4],[52,5,24,5],[52,7,24,7],[52,9,24,9],[52,10,25,2],[52,11,25,3],[54,4,27,2],[55,4,28,2],[55,8,28,2,"useEffect"],[55,14,28,11],[55,15,28,11,"useEffect"],[55,24,28,11],[55,26,28,12],[55,32,28,18],[56,6,29,4,"loadSettings"],[56,18,29,16],[56,19,29,17],[56,20,29,18],[57,4,30,2],[57,5,30,3],[57,7,30,5],[57,9,30,7],[57,10,30,8],[58,4,32,2],[58,8,32,8,"loadSettings"],[58,20,32,20],[59,6,32,20],[59,10,32,20,"_ref"],[59,14,32,20],[59,21,32,20,"_asyncToGenerator"],[59,38,32,20],[59,39,32,20,"default"],[59,46,32,20],[59,48,32,23],[59,61,32,35],[60,8,33,4],[60,12,33,8],[61,10,34,6],[62,10,35,6],[62,14,35,10],[62,21,35,17,"window"],[62,27,35,23],[62,32,35,28],[62,43,35,39],[62,45,35,41],[63,10,37,6],[63,14,37,12,"stored"],[63,20,37,18],[63,29,37,27,"AsyncStorage"],[63,41,37,39],[63,42,37,39,"default"],[63,49,37,39],[63,50,37,40,"getItem"],[63,57,37,47],[63,58,37,48],[63,72,37,62],[63,73,37,63],[64,10,38,6,"console"],[64,17,38,13],[64,18,38,14,"log"],[64,21,38,17],[64,22,38,18],[64,53,38,49],[64,55,38,51,"stored"],[64,61,38,57],[64,62,38,58],[65,10,39,6],[65,14,39,10,"stored"],[65,20,39,16],[65,22,39,18],[66,12,40,8],[66,16,40,14,"parsedSettings"],[66,30,40,28],[66,33,40,31,"JSON"],[66,37,40,35],[66,38,40,36,"parse"],[66,43,40,41],[66,44,40,42,"stored"],[66,50,40,48],[66,51,40,49],[67,12,41,8,"setSettings"],[67,23,41,19],[67,24,41,20,"prev"],[67,28,41,24],[67,33,41,29],[68,14,42,10],[68,17,42,13,"prev"],[68,21,42,17],[69,14,43,10],[69,17,43,13,"parsedSettings"],[69,31,43,27],[70,14,44,10],[71,14,45,10,"filmFormat"],[71,24,45,20],[71,26,45,22,"parsedSettings"],[71,40,45,36],[71,41,45,37,"filmFormat"],[71,51,45,47],[71,55,45,51,"prev"],[71,59,45,55],[71,60,45,56,"filmFormat"],[71,70,45,66],[72,14,46,10,"filmOrientation"],[72,29,46,25],[72,31,46,27,"parsedSettings"],[72,45,46,41],[72,46,46,42,"filmOrientation"],[72,61,46,57],[72,65,46,61],[73,12,47,8],[73,13,47,9],[73,14,47,10],[73,15,47,11],[74,10,48,6],[75,8,49,4],[75,9,49,5],[75,10,49,6],[75,17,49,13,"error"],[75,22,49,18],[75,24,49,20],[76,10,50,6,"console"],[76,17,50,13],[76,18,50,14,"error"],[76,23,50,19],[76,24,50,20],[76,49,50,45],[76,51,50,47,"error"],[76,56,50,52],[76,57,50,53],[77,8,51,4],[78,6,52,2],[78,7,52,3],[79,6,52,3],[79,22,32,8,"loadSettings"],[79,34,32,20,"loadSettings"],[79,35,32,20],[80,8,32,20],[80,15,32,20,"_ref"],[80,19,32,20],[80,20,32,20,"apply"],[80,25,32,20],[80,32,32,20,"arguments"],[80,41,32,20],[81,6,32,20],[82,4,32,20],[82,7,52,3],[83,4,54,2],[83,8,54,8,"saveSettings"],[83,20,54,20],[84,6,54,20],[84,10,54,20,"_ref2"],[84,15,54,20],[84,22,54,20,"_asyncToGenerator"],[84,39,54,20],[84,40,54,20,"default"],[84,47,54,20],[84,49,54,23],[84,60,54,30,"newSettings"],[84,71,54,54],[84,73,54,59],[85,8,55,4],[85,12,55,8],[86,10,56,6,"setSettings"],[86,21,56,17],[86,22,56,18,"newSettings"],[86,33,56,29],[86,34,56,30],[87,10,57,6],[87,16,57,12,"AsyncStorage"],[87,28,57,24],[87,29,57,24,"default"],[87,36,57,24],[87,37,57,25,"setItem"],[87,44,57,32],[87,45,57,33],[87,59,57,47],[87,61,57,49,"JSON"],[87,65,57,53],[87,66,57,54,"stringify"],[87,75,57,63],[87,76,57,64,"newSettings"],[87,87,57,75],[87,88,57,76],[87,89,57,77],[88,8,58,4],[88,9,58,5],[88,10,58,6],[88,17,58,13,"error"],[88,22,58,18],[88,24,58,20],[89,10,59,6,"console"],[89,17,59,13],[89,18,59,14,"error"],[89,23,59,19],[89,24,59,20],[89,48,59,44],[89,50,59,46,"error"],[89,55,59,51],[89,56,59,52],[90,8,60,4],[91,6,61,2],[91,7,61,3],[92,6,61,3],[92,22,54,8,"saveSettings"],[92,34,54,20,"saveSettings"],[92,35,54,20,"_x"],[92,37,54,20],[93,8,54,20],[93,15,54,20,"_ref2"],[93,20,54,20],[93,21,54,20,"apply"],[93,26,54,20],[93,33,54,20,"arguments"],[93,42,54,20],[94,6,54,20],[95,4,54,20],[95,7,61,3],[96,4,63,2],[96,24,63,9],[96,28,63,9,"_reactJsxDevRuntime"],[96,47,63,9],[96,48,63,9,"jsxDEV"],[96,54,63,9],[96,56,63,10,"ViewfinderScreen"],[96,72,63,26],[96,73,63,26,"default"],[96,80,63,26],[97,6,63,27,"settings"],[97,14,63,35],[97,16,63,37,"settings"],[97,24,63,46],[98,6,63,47,"updateSettings"],[98,20,63,61],[98,22,63,63,"saveSettings"],[99,4,63,76],[100,6,63,76,"fileName"],[100,14,63,76],[100,16,63,76,"_jsxFileName"],[100,28,63,76],[101,6,63,76,"lineNumber"],[101,16,63,76],[102,6,63,76,"columnNumber"],[102,18,63,76],[103,4,63,76],[103,11,63,78],[103,12,63,79],[104,2,64,0],[105,2,64,1,"_s"],[105,4,64,1],[105,5,7,24,"Index"],[105,10,7,29],[106,4,7,29],[106,12,21,2,"useFocusEffect"],[106,23,21,16],[106,24,21,16,"useFocusEffect"],[106,38,21,16],[107,2,21,16],[108,2,21,16,"_c"],[108,4,21,16],[108,7,7,24,"Index"],[108,12,7,29],[109,2,7,29],[109,6,7,29,"_c"],[109,8,7,29],[110,2,7,29,"$RefreshReg$"],[110,14,7,29],[110,15,7,29,"_c"],[110,17,7,29],[111,0,7,29],[111,3]],"functionMap":{"names":["<global>","Index","useFocusEffect$argument_0","useEffect$argument_0","loadSettings","setSettings$argument_0","saveSettings"],"mappings":"AAA;eCM;gBCe;KDE;YEI;GFE;uBGE;oBCS;UDM;GHK;uBKE;GLO;CDG"},"hasCjsExports":false},"type":"js/module"}]}