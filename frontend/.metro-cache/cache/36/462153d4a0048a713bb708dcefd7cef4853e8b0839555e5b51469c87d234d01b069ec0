{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":65},"end":{"line":2,"column":69,"index":134}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":135},"end":{"line":3,"column":45,"index":180}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../screens/ViewfinderScreen","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":181},"end":{"line":4,"column":59,"index":240}}],"key":"Qc4efk6A2u/sCgWH4XkHBQDYYKU=","exportNames":["*"],"imports":1}},{"name":"../types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":241},"end":{"line":5,"column":53,"index":294}}],"key":"SiqkZ9nARqNkdXfcIWbBgsKp5Yo=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/index.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoRouter = require(_dependencyMap[2], \"expo-router\");\n  var _screensViewfinderScreen = require(_dependencyMap[3], \"../screens/ViewfinderScreen\");\n  var ViewfinderScreen = _interopDefault(_screensViewfinderScreen);\n  var _types = require(_dependencyMap[4], \"../types\");\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  function Index() {\n    _s();\n    const [settings, setSettings] = (0, _react.useState)({\n      focalLength: 50,\n      pinholeSize: 0.3,\n      filmFormat: _types.FILM_FORMATS[2],\n      filmOrientation: 'landscape',\n      iso: 100,\n      selectedCondition: null,\n      useRedFilter: false,\n      useReciprocityFailure: true,\n      bracketStops: 0\n    });\n\n    // Reload settings every time the tab comes into focus\n    (0, _expoRouter.useFocusEffect)((0, _react.useCallback)(() => {\n      loadSettings();\n    }, []));\n    const loadSettings = async () => {\n      try {\n        const stored = await AsyncStorage.default.getItem('app_settings');\n        if (stored) {\n          const parsedSettings = JSON.parse(stored);\n          setSettings(prev => Object.assign({}, prev, parsedSettings, {\n            // Ensure filmFormat is properly restored\n            filmFormat: parsedSettings.filmFormat || prev.filmFormat,\n            filmOrientation: parsedSettings.filmOrientation || 'landscape'\n          }));\n        }\n      } catch (error) {\n        console.error('Error loading settings:', error);\n      }\n    };\n    const saveSettings = async newSettings => {\n      try {\n        setSettings(newSettings);\n        await AsyncStorage.default.setItem('app_settings', JSON.stringify(newSettings));\n      } catch (error) {\n        console.error('Error saving settings:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ViewfinderScreen.default, {\n      settings: settings,\n      updateSettings: saveSettings\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 10\n    }, this);\n  }\n  _s(Index, \"Z7Q9FPADrlnNrLDEyFAUftxtcNY=\", false, function () {\n    return [_expoRouter.useFocusEffect];\n  });\n  _c = Index;\n  var _c;\n  $RefreshReg$(_c, \"Index\");\n});","lineCount":84,"map":[[14,2,7,15,"Object"],[14,8,7,15],[14,9,7,15,"defineProperty"],[14,23,7,15],[14,24,7,15,"exports"],[14,31,7,15],[15,4,7,15,"enumerable"],[15,14,7,15],[16,4,7,15,"get"],[16,7,7,15],[16,18,7,15,"get"],[16,19,7,15],[17,6,7,15],[17,13,7,15,"Index"],[17,18,7,15],[18,4,7,15],[19,2,7,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,3,0],[23,6,3,0,"_expoRouter"],[23,17,3,0],[23,20,3,0,"require"],[23,27,3,0],[23,28,3,0,"_dependencyMap"],[23,42,3,0],[24,2,4,0],[24,6,4,0,"_screensViewfinderScreen"],[24,30,4,0],[24,33,4,0,"require"],[24,40,4,0],[24,41,4,0,"_dependencyMap"],[24,55,4,0],[25,2,4,0],[25,6,4,0,"ViewfinderScreen"],[25,22,4,0],[25,25,4,0,"_interopDefault"],[25,40,4,0],[25,41,4,0,"_screensViewfinderScreen"],[25,65,4,0],[26,2,5,0],[26,6,5,0,"_types"],[26,12,5,0],[26,15,5,0,"require"],[26,22,5,0],[26,23,5,0,"_dependencyMap"],[26,37,5,0],[27,2,5,53],[27,6,5,53,"_reactJsxDevRuntime"],[27,25,5,53],[27,28,5,53,"require"],[27,35,5,53],[27,36,5,53,"_dependencyMap"],[27,50,5,53],[28,2,7,15],[28,11,7,24,"Index"],[28,16,7,29,"Index"],[28,17,7,29],[28,19,7,32],[29,4,7,32,"_s"],[29,6,7,32],[30,4,8,2],[30,10,8,8],[30,11,8,9,"settings"],[30,19,8,17],[30,21,8,19,"setSettings"],[30,32,8,30],[30,33,8,31],[30,36,8,34],[30,40,8,34,"useState"],[30,46,8,42],[30,47,8,42,"useState"],[30,55,8,42],[30,57,8,56],[31,6,9,4,"focalLength"],[31,17,9,15],[31,19,9,17],[31,21,9,19],[32,6,10,4,"pinholeSize"],[32,17,10,15],[32,19,10,17],[32,22,10,20],[33,6,11,4,"filmFormat"],[33,16,11,14],[33,18,11,16,"FILM_FORMATS"],[33,24,11,28],[33,25,11,28,"FILM_FORMATS"],[33,37,11,28],[33,38,11,29],[33,39,11,30],[33,40,11,31],[34,6,12,4,"filmOrientation"],[34,21,12,19],[34,23,12,21],[34,34,12,32],[35,6,13,4,"iso"],[35,9,13,7],[35,11,13,9],[35,14,13,12],[36,6,14,4,"selectedCondition"],[36,23,14,21],[36,25,14,23],[36,29,14,27],[37,6,15,4,"useRedFilter"],[37,18,15,16],[37,20,15,18],[37,25,15,23],[38,6,16,4,"useReciprocityFailure"],[38,27,16,25],[38,29,16,27],[38,33,16,31],[39,6,17,4,"bracketStops"],[39,18,17,16],[39,20,17,18],[40,4,18,2],[40,5,18,3],[40,6,18,4],[42,4,20,2],[43,4,21,2],[43,8,21,2,"useFocusEffect"],[43,19,21,16],[43,20,21,16,"useFocusEffect"],[43,34,21,16],[43,36,22,4],[43,40,22,4,"useCallback"],[43,46,22,15],[43,47,22,15,"useCallback"],[43,58,22,15],[43,60,22,16],[43,66,22,22],[44,6,23,6,"loadSettings"],[44,18,23,18],[44,19,23,19],[44,20,23,20],[45,4,24,4],[45,5,24,5],[45,7,24,7],[45,9,24,9],[45,10,25,2],[45,11,25,3],[46,4,27,2],[46,10,27,8,"loadSettings"],[46,22,27,20],[46,25,27,23],[46,31,27,23,"loadSettings"],[46,32,27,23],[46,37,27,35],[47,6,28,4],[47,10,28,8],[48,8,29,6],[48,14,29,12,"stored"],[48,20,29,18],[48,23,29,21],[48,29,29,27,"AsyncStorage"],[48,41,29,39],[48,42,29,39,"default"],[48,49,29,39],[48,50,29,40,"getItem"],[48,57,29,47],[48,58,29,48],[48,72,29,62],[48,73,29,63],[49,8,30,6],[49,12,30,10,"stored"],[49,18,30,16],[49,20,30,18],[50,10,31,8],[50,16,31,14,"parsedSettings"],[50,30,31,28],[50,33,31,31,"JSON"],[50,37,31,35],[50,38,31,36,"parse"],[50,43,31,41],[50,44,31,42,"stored"],[50,50,31,48],[50,51,31,49],[51,10,32,8,"setSettings"],[51,21,32,19],[51,22,32,20,"prev"],[51,26,32,24],[51,30,32,24,"Object"],[51,36,32,24],[51,37,32,24,"assign"],[51,43,32,24],[51,48,33,13,"prev"],[51,52,33,17],[51,54,34,13,"parsedSettings"],[51,68,34,27],[52,12,35,10],[53,12,36,10,"filmFormat"],[53,22,36,20],[53,24,36,22,"parsedSettings"],[53,38,36,36],[53,39,36,37,"filmFormat"],[53,49,36,47],[53,53,36,51,"prev"],[53,57,36,55],[53,58,36,56,"filmFormat"],[53,68,36,66],[54,12,37,10,"filmOrientation"],[54,27,37,25],[54,29,37,27,"parsedSettings"],[54,43,37,41],[54,44,37,42,"filmOrientation"],[54,59,37,57],[54,63,37,61],[55,10,37,72],[55,12,38,10],[55,13,38,11],[56,8,39,6],[57,6,40,4],[57,7,40,5],[57,8,40,6],[57,15,40,13,"error"],[57,20,40,18],[57,22,40,20],[58,8,41,6,"console"],[58,15,41,13],[58,16,41,14,"error"],[58,21,41,19],[58,22,41,20],[58,47,41,45],[58,49,41,47,"error"],[58,54,41,52],[58,55,41,53],[59,6,42,4],[60,4,43,2],[60,5,43,3],[61,4,45,2],[61,10,45,8,"saveSettings"],[61,22,45,20],[61,25,45,23],[61,31,45,30,"newSettings"],[61,42,45,54],[61,46,45,59],[62,6,46,4],[62,10,46,8],[63,8,47,6,"setSettings"],[63,19,47,17],[63,20,47,18,"newSettings"],[63,31,47,29],[63,32,47,30],[64,8,48,6],[64,14,48,12,"AsyncStorage"],[64,26,48,24],[64,27,48,24,"default"],[64,34,48,24],[64,35,48,25,"setItem"],[64,42,48,32],[64,43,48,33],[64,57,48,47],[64,59,48,49,"JSON"],[64,63,48,53],[64,64,48,54,"stringify"],[64,73,48,63],[64,74,48,64,"newSettings"],[64,85,48,75],[64,86,48,76],[64,87,48,77],[65,6,49,4],[65,7,49,5],[65,8,49,6],[65,15,49,13,"error"],[65,20,49,18],[65,22,49,20],[66,8,50,6,"console"],[66,15,50,13],[66,16,50,14,"error"],[66,21,50,19],[66,22,50,20],[66,46,50,44],[66,48,50,46,"error"],[66,53,50,51],[66,54,50,52],[67,6,51,4],[68,4,52,2],[68,5,52,3],[69,4,54,2],[69,24,54,9],[69,28,54,9,"_reactJsxDevRuntime"],[69,47,54,9],[69,48,54,9,"jsxDEV"],[69,54,54,9],[69,56,54,10,"ViewfinderScreen"],[69,72,54,26],[69,73,54,26,"default"],[69,80,54,26],[70,6,54,27,"settings"],[70,14,54,35],[70,16,54,37,"settings"],[70,24,54,46],[71,6,54,47,"updateSettings"],[71,20,54,61],[71,22,54,63,"saveSettings"],[72,4,54,76],[73,6,54,76,"fileName"],[73,14,54,76],[73,16,54,76,"_jsxFileName"],[73,28,54,76],[74,6,54,76,"lineNumber"],[74,16,54,76],[75,6,54,76,"columnNumber"],[75,18,54,76],[76,4,54,76],[76,11,54,78],[76,12,54,79],[77,2,55,0],[78,2,55,1,"_s"],[78,4,55,1],[78,5,7,24,"Index"],[78,10,7,29],[79,4,7,29],[79,12,21,2,"useFocusEffect"],[79,23,21,16],[79,24,21,16,"useFocusEffect"],[79,38,21,16],[80,2,21,16],[81,2,21,16,"_c"],[81,4,21,16],[81,7,7,24,"Index"],[81,12,7,29],[82,2,7,29],[82,6,7,29,"_c"],[82,8,7,29],[83,2,7,29,"$RefreshReg$"],[83,14,7,29],[83,15,7,29,"_c"],[83,17,7,29],[84,0,7,29],[84,3]],"functionMap":{"names":["<global>","Index","useFocusEffect$argument_0","loadSettings","setSettings$argument_0","saveSettings"],"mappings":"AAA;eCM;gBCe;KDE;uBEG;oBCK;UDM;GFK;uBIE;GJO;CDG"},"hasCjsExports":false},"type":"js/module"}]}